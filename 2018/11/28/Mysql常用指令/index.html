
<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Mysql常用指令 | °．·°∴Lín。</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Mysql常用指令连接数据库12// 强烈建议不带该-p[password]，$ mysql -h[adrress] -P[port] -u[username] -p[password] [db_name] 查看所有库12345678mysql&amp;gt; show databases;+------------------------+| Database               |+-----">
<meta name="keywords" content="mysql">
<meta property="og:type" content="article">
<meta property="og:title" content="Mysql常用指令">
<meta property="og:url" content="http://laifulin.github.io/2018/11/28/Mysql常用指令/index.html">
<meta property="og:site_name" content="°．·°∴Lín。">
<meta property="og:description" content="Mysql常用指令连接数据库12// 强烈建议不带该-p[password]，$ mysql -h[adrress] -P[port] -u[username] -p[password] [db_name] 查看所有库12345678mysql&amp;gt; show databases;+------------------------+| Database               |+-----">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-11-27T17:24:23.820Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mysql常用指令">
<meta name="twitter:description" content="Mysql常用指令连接数据库12// 强烈建议不带该-p[password]，$ mysql -h[adrress] -P[port] -u[username] -p[password] [db_name] 查看所有库12345678mysql&amp;gt; show databases;+------------------------+| Database               |+-----">
  
    <link rel="alternative" href="/atom.xml" title="°．·°∴Lín。" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head></html>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">°．·°∴Lín。</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">laifulin</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name="tn" type="hidden" value="bds">
          <input name="cl" type="hidden" value="3">
          <input name="ct" type="hidden" value="2097152">
          <input type="hidden" name="si" value="laifulin.github.io">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main"><article id="post-Mysql常用指令" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/28/Mysql常用指令/" class="article-date">
  <time datetime="2018-11-27T17:12:27.000Z" itemprop="datePublished">2018-11-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Mysql常用指令
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Mysql常用指令"><a href="#Mysql常用指令" class="headerlink" title="Mysql常用指令"></a>Mysql常用指令</h2><h3 id="连接数据库"><a href="#连接数据库" class="headerlink" title="连接数据库"></a>连接数据库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 强烈建议不带该-p[password]，</span><br><span class="line">$ mysql -h[adrress] -P[port] -u[username] -p[password] [db_name]</span><br></pre></td></tr></table></figure>
<h3 id="查看所有库"><a href="#查看所有库" class="headerlink" title="查看所有库"></a>查看所有库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show databases;</span><br><span class="line">+------------------------+</span><br><span class="line">| Database               |</span><br><span class="line">+------------------------+</span><br><span class="line">| db_name_1              |</span><br><span class="line">| db_name_2              |</span><br><span class="line">+------------------------+</span><br><span class="line">2 rows <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<h3 id="查看表"><a href="#查看表" class="headerlink" title="查看表"></a>查看表</h3><h4 id="查看所有表"><a href="#查看所有表" class="headerlink" title="查看所有表"></a>查看所有表</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show tables;</span><br><span class="line">+---------------------+</span><br><span class="line">| Tables_in_db_name_1 |</span><br><span class="line">+---------------------+</span><br><span class="line">| table_1             |</span><br><span class="line">+---------------------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span></span><br></pre></td></tr></table></figure>
<h4 id="查看表状态"><a href="#查看表状态" class="headerlink" title="查看表状态"></a>查看表状态</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">// 查看所有表状态</span><br><span class="line">show table status from <span class="string">'[db_name]'</span> \G</span><br><span class="line"></span><br><span class="line">// 查看单个表状态</span><br><span class="line">show table status like <span class="string">'[table_name]'</span> \G</span><br><span class="line"></span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">           Name: table_name // 表名称</span><br><span class="line">         Engine: InnoDB  // 表的存储引擎</span><br><span class="line">        Version: 10  // 版本</span><br><span class="line">     Row_format: Compact  // 行格式。对于MyISAM引擎，这可能是Dynamic，Fixed或Compressed。动态行的行长度可变，例如Varchar或Blob类型字段。固定行是指行长度不变，例如Char和Integer类型字段</span><br><span class="line">           Rows: 1207  // 表中的行数</span><br><span class="line"> Avg_row_length: 67  // 平均每行包括的字节数 </span><br><span class="line">    Data_length: 81920  // 整个表的数据量</span><br><span class="line">Max_data_length: 0  //  表可以容纳的最大数据量</span><br><span class="line">   Index_length: 49152  // 索引占用磁盘的空间大小 </span><br><span class="line">      Data_free: 0  // 对于MyISAM引擎，标识已分配，但现在未使用的空间，并且包含了已被删除行的空间</span><br><span class="line"> Auto_increment: 1208  // 下一个Auto_increment的值</span><br><span class="line">    Create_time: 2017-12-12 21:36:45  // 表的创建时间</span><br><span class="line">    Update_time: NULL  // 表的最近更新时间</span><br><span class="line">     Check_time: NULL  // 使用 check table 或myisamchk工具检查表的最近时间</span><br><span class="line">      Collation: utf8_general_ci  // 表的默认字符集和字符排序规则</span><br><span class="line">       Checksum: NULL  // 如果启用，则对整个表的内容计算时的校验和</span><br><span class="line"> Create_options:   // 表创建时的其他所有选项</span><br><span class="line">        Comment: 简介  </span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure>
<p>重要字段：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>描叙</th>
</tr>
</thead>
<tbody>
<tr>
<td>Engine</td>
<td>Innodb、MyISAM</td>
</tr>
<tr>
<td>Rows</td>
<td>表中的行数。部分存储引擎，如 MyISAM，存储精确的数目。<br>对于其它存储引擎，比如 InnoDB，是一个大约的值，与实际值相差可达40到50％。在这些情况下，使用 SELECT COUNT(*) 来获得准确的数目。</td>
</tr>
<tr>
<td>Avg_row_length</td>
<td>平均每行包括的字节数</td>
</tr>
<tr>
<td>Data_length</td>
<td>对于 MyISAM，Data_length 是数据文件的长度（以字节为单位）。<br>对于 InnoDB，Data_length 是聚簇索引 clustered index 大约分配的内存量（以字节为单位）。</td>
</tr>
<tr>
<td>Index_length</td>
<td>对于 MyISAM，Index_length 是索引文件的长度（以字节为单位）。<br>对于 InnoDB，Index_length 是非聚簇索引 non-clustered index 大约分配的内存量（以字节为单位）。</td>
</tr>
<tr>
<td>Auto_increment</td>
<td>下一个Auto_increment的值</td>
</tr>
</tbody>
</table>
<h4 id="表结构查询"><a href="#表结构查询" class="headerlink" title="表结构查询"></a>表结构查询</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 查看列名（三者等价）</span><br><span class="line">$ show columns from table_name [from db_name];</span><br><span class="line">$ show columns from [db_name.]table_name;</span><br><span class="line">$ desc table_name;  // 简写形式</span><br></pre></td></tr></table></figure>
<h4 id="表索引查询"><a href="#表索引查询" class="headerlink" title="表索引查询"></a>表索引查询</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ show index from table_name;</span><br></pre></td></tr></table></figure>
<h4 id="建表语句"><a href="#建表语句" class="headerlink" title="建表语句"></a>建表语句</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ show create table table_name;</span><br></pre></td></tr></table></figure>
<h3 id="用户权限"><a href="#用户权限" class="headerlink" title="用户权限"></a>用户权限</h3><h4 id="查询用户权限"><a href="#查询用户权限" class="headerlink" title="查询用户权限"></a>查询用户权限</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ show grants <span class="keyword">for</span> [username]@[adrress];</span><br></pre></td></tr></table></figure>
<h4 id="创建用户授权"><a href="#创建用户授权" class="headerlink" title="创建用户授权"></a>创建用户授权</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 限制用户登陆ip，不限制使用<span class="string">'%'</span>代替，任意地方可连接</span><br><span class="line">$ grant [select,insert,update,delete]/[all privileges] on *.* to [username]@<span class="string">"[登陆ip]"</span> identified by <span class="string">"[password]"</span>;</span><br><span class="line"></span><br><span class="line">// 刷新权限</span><br><span class="line">$ flush privileges;</span><br></pre></td></tr></table></figure>
<h3 id="查看系统相关"><a href="#查看系统相关" class="headerlink" title="查看系统相关"></a>查看系统相关</h3><h4 id="数据库状况检查"><a href="#数据库状况检查" class="headerlink" title="数据库状况检查"></a>数据库状况检查</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 该项参数有点多，官网查看</span><br><span class="line">$ show status</span><br></pre></td></tr></table></figure>
<h4 id="数据库进程查询"><a href="#数据库进程查询" class="headerlink" title="数据库进程查询"></a>数据库进程查询</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ show processlist;</span><br><span class="line">$ show full processlist;</span><br><span class="line"></span><br><span class="line">+----+-----------------+-----------------+------+---------+---------+------------------------+------------------+</span><br><span class="line">| Id | User            | Host            | db   | Command | Time    | State                  | Info             |</span><br><span class="line">+----+-----------------+-----------------+------+---------+---------+------------------------+------------------+</span><br><span class="line">|  4 | event_scheduler | localhost       | NULL | Daemon  | 1389007 | Waiting on empty queue | NULL             |</span><br><span class="line">| 13 | root            | localhost:59450 | NULL | Sleep   |     551 |                        | NULL             |</span><br><span class="line">| 16 | root            | localhost       | NULL | Query   |       0 | starting               | show processlist |</span><br><span class="line">+----+-----------------+-----------------+------+---------+---------+------------------------+------------------+</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>字段</th>
<th>描叙</th>
</tr>
</thead>
<tbody>
<tr>
<td>Id</td>
<td>进程Id   用途：kill id时可杀死进程</td>
</tr>
<tr>
<td>User</td>
<td>显示执行 SQL 的用户</td>
</tr>
<tr>
<td>Host</td>
<td>账号连接的Ip地址</td>
</tr>
<tr>
<td>db</td>
<td>显示这个进程目前连接的是哪个数据库</td>
</tr>
<tr>
<td>Command</td>
<td>显示当前连接的执行命令，一般就是守护进程（Daemon）休眠（ sleep ），查询（ query ），连接（ connect ）</td>
</tr>
<tr>
<td>Time</td>
<td>这个状态持续的时间，单位是秒</td>
</tr>
<tr>
<td>State</td>
<td>显示使用当前连接的 SQL 语句的状态。</td>
</tr>
<tr>
<td>Info</td>
<td>显示执行的 SQL 语句。</td>
</tr>
</tbody>
</table>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://laifulin.github.io/2018/11/28/Mysql常用指令/" data-id="cjp00ihkn00019i33yz5d9dyh" class="article-share-link">分享到</a>
      

      
        <a href="http://laifulin.github.io/2018/11/28/Mysql常用指令/#ds-thread" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/">mysql</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2018/11/18/dubbo群容错与负载均衡策略/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">Dubbo集群容错与负载均衡策略</div>
    </a>
  
</nav>

  
</article>


  <section id="comments">
    <div id="ds-thread" class="ds-thread" data-thread-key="2018/11/28/Mysql常用指令/" data-title="Mysql常用指令" data-url="http://laifulin.github.io/2018/11/28/Mysql常用指令/"></div>
  </section>

</section>
      
      <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/dobbo/">dobbo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/其他/">其他</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/dobbo/" style="font-size: 10px;">dobbo</a> <a href="/tags/docker/" style="font-size: 20px;">docker</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/其他/" style="font-size: 10px;">其他</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/11/28/Mysql常用指令/">Mysql常用指令</a>
          </li>
        
          <li>
            <a href="/2018/11/18/dubbo群容错与负载均衡策略/">Dubbo集群容错与负载均衡策略</a>
          </li>
        
          <li>
            <a href="/2018/11/17/Dockerfile配置用法/">Dockerfile配置用法</a>
          </li>
        
          <li>
            <a href="/2018/11/17/Docker常用命令/">Docker常用命令</a>
          </li>
        
          <li>
            <a href="/2018/11/11/Hexo-Github-搭建个人博客/">Hexo Github 搭建个人博客</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://github.com/laifulin" target="_blank">Github</a>
          </li>
        
          <li>
            <a href="326620938" target="_blank">QQ</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 °．·°∴Lín。<br>
      坐亦禅，行亦禅，一花一世界，一叶一如来，春来花自青，秋至叶飘零，无穷般若心自在，语默动静体自然。
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"></a>
</div>

<!-- totop end -->

<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"°．·°∴Lín。"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js"></script>

</div>
</body>
</html>
